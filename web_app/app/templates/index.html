{% extends "hops_base.html" %}

{% block head %}
{{ super() }}
{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
      <div name = "al" class="alert alert-block alert-success"></div>
  </div>
  <div class="row">
    <h1>Welcome to Hops: A Beer Recommender!</h1>
    <form action="/" class="navbar-form navbar-left" method="POST">
      <div class="form-group">
        <input id="test" name="beer_name" type="text" data-provide="typeahead" placeholder="Beer Name" size=80>
        <input id="index" type="hidden" name="index" value="">
      </div>
      <button type="submit" class="btn btn-default">Search</button>
    </form>
  </div>
  <div class="row">
    {% if results.size > 0 %}
      {% if beer_name %}
        <h2>Recommendations for {{ beer_name }}:</h2>
      {% endif %}
      <br>
      <div id="results">
        <div class="list-group">
          {% for result in results %}
            <a class="list-group-item">
              <h4 id='beer' class="list-group-item-heading">{{ result }}</h4>
              <p class="list-group-item-text">{{ result }}</p>
            </a>
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>

$(document).ready(function($) {
  function getStuff() {
    return ['Valor Ale',
     "Charlie's Cherry - Cheery Chamomile Blonde Bombshell",
     'Abunai.P.A.',
     'Random Red Rye',
     'Heroine India Pale Ale',
     '8-Bit IPA!',
     'The Rock IPA',
     "Bosco's Revenge",
     'Cashmere Hammer',
     'Farm House',
     'Two Headed Unicorn',
     'Mystery Barrel Sour 1.0',
     "Monks' Dubbel Ale",
     'Manly Barley Wine Ale',
     'Harvest Ale',
     'Black Gold',
     'Red Bean And Rice Ale',
     'Sweet Vanilla Oatmeal Stout',
     'Koko Beware',
     'Dark Saison'];
  }
  function getIndex(item) {
      var idx = typeaheadSource.indexOf(item)
      return idx
  }
  function displayResult(item) {

      document.getElementById("index").value = typeaheadSource.indexOf(item.text)

      $('.alert').show().html( typeaheadSource.indexOf(item.text) + ", " + document.getElementById("index").value);
  }
  $('#test').typeahead({
  	source: getStuff()
  });
});
</script>
{% endblock %}
